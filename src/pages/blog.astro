---
import MainLayout from "../layouts/MainLayout.astro"
import BlogCard from "../components/BlogCard.astro"
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";




const posts: CollectionEntry<'posts'>[] = (await getCollection('posts')).sort((a:CollectionEntry<'posts'>, b:CollectionEntry<'posts'>) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---



<MainLayout title="Richmond's Blog">

    <!-- ========================== Section Blog =============== -->
    <section class="section-blog p-4 lg:px-24 md:ml-64 pt-36 min-h-[95vh]">
        <h2 class="heading-secondary">My Blog</h2>
        <!-- Main Grid -->
        <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
            {posts.map(article => (
                <BlogCard post={article} />
            ))}          
        </div>
    </section>

</MainLayout>


